<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Claude Code Rate Limits: Diagnosing my token usage  · Deeptanshu Jha</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/css/site.css">
</head>
<body class="page">
  
  <nav>
    <div class="nav-container">
      <a href="/" class="nav-logo">Deeptanshu Jha</a>
      <div class="nav-links">
        <a href="/#essays" class="nav-link">Essays</a>
        <a href="/#projects" class="nav-link">Projects</a>
        <a href="/essays/" class="nav-link">All posts</a>

        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </svg>
          <svg id="moonIcon" style="display:none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

<main class="main">
  
<section style="padding-top: 6rem;">
  <div class="container" style="max-width: 850px;">
    <div class="essay-meta" style="margin-bottom: 0.8rem;">
      Claude Code · Jan 26, 2026
    </div>
    <h1 class="section-title" style="margin-bottom: 1rem;">Claude Code Rate Limits: Diagnosing my token usage </h1>

    <div class="essay-card visible" style="padding: 2rem;">
      <div class="prose">
        <p>Every few hours using Claude Code, I hit a wall. It is incredibly frustrating to be mid-flow and get locked out by a rate limit. After burning through roughly <strong>44 million tokens</strong> and a <strong>$67.58 bill</strong>, I dug into the logs to find out why.</p>
<p>The data shows I wasn&rsquo;t paying for intelligence. I was paying a &ldquo;memory tax&rdquo; for conversations that never ended.</p>
<hr>
<h2 id="the-68-breakdown">The $68 breakdown</h2>
<p>In about 17 days, I made nearly 500 requests. Here is where the money actually went:</p>
<table>
  <thead>
      <tr>
          <th>Category</th>
          <th>Cost</th>
          <th>% of Total</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Building context (Cache Write)</td>
          <td>$39.95</td>
          <td>67.1%</td>
      </tr>
      <tr>
          <td>Re-reading history (Cache Read)</td>
          <td>$17.30</td>
          <td>29.1%</td>
      </tr>
      <tr>
          <td><strong>Actual AI answers (Output)</strong></td>
          <td><strong>$2.14</strong></td>
          <td><strong>3.2%</strong></td>
      </tr>
      <tr>
          <td>New prompts</td>
          <td>$0.15</td>
          <td>0.3%</td>
      </tr>
  </tbody>
</table>
<p><strong>Only 3% of my bill went toward actual answers.</strong><br>
The rest was spent reminding the AI what we had already discussed.</p>
<hr>
<h2 id="the-077-yes">The $0.77 &ldquo;yes&rdquo;</h2>
<p>The most expensive word I typed was &ldquo;yes.&rdquo;</p>
<p>In one marathon session, I hit 361 requests without ever clearing the history. By the end, the context had ballooned to over <strong>153,000 tokens</strong>. Because Claude Code re-processes the entire conversation history with every new message, a simple confirmation cost $0.77. At the start of that same session, it would have cost less than a dime.</p>
<hr>
<h2 id="the-5-hour-rolling-window">The 5-hour rolling window</h2>
<p>I used to think limits reset daily. They don&rsquo;t.</p>
<p>Claude subscriptions operate on a <strong>5-hour rolling window</strong> starting from your first use. If you exhaust your budget in a heavy two-hour burst of context-heavy work, you are stuck until that window slides forward.</p>
<hr>
<h2 id="why-the-bill-was-so-high">Why the bill was so high</h2>
<p>My analysis identified three habits that caused the bloat:</p>
<ul>
<li><strong>Marathon sessions:</strong> I kept sessions active for days. Every tool call, shell output, and file read became permanent debt that I paid for in every subsequent message.</li>
<li><strong>Task mixing:</strong> I used one session for everything—coding, stock analysis, and job searching. Claude doesn&rsquo;t need to know my tax-loss harvesting strategy to fix a UI bug, but I paid for it to remember both.</li>
<li><strong>The model mismatch:</strong> I used <strong>Opus 4.5</strong> for every single command. Analysis showed that <strong>66% of my queries</strong>—simple things like <code>ls</code>, <code>cd</code>, or moving files—could have been handled by Haiku for 80% less money.</li>
</ul>
<hr>
<h2 id="my-new-workflow">My new workflow</h2>
<p>I&rsquo;m changing how I work to stop the waste:</p>
<ol>
<li><strong>Clear context often:</strong> I now use <code>/clear</code> or start fresh sessions every 50 requests.</li>
<li><strong>Match the model to the task:</strong> I use Haiku for navigation and confirmations, saving Opus only for architecture and deep logic.</li>
<li><strong>Local routing:</strong> I am building a tool to route basic shell commands to a local model (<code>llama3.2:1b</code>). This handles the boring stuff for $0.00.</li>
</ol>
<p>AI is only expensive if you force it to have a perfect, infinite memory for things that don&rsquo;t matter.</p>
<hr>
<p>Would you like me to help you set up a simple shell alias that uses a cheaper model for basic file navigation?</p>
<hr>
<p><em>If this saved you from the meta-analysis death spiral, share it.</em></p>

      </div>
    </div>

    <div style="margin-top: 1.5rem;">
      <a class="essay-link" href="/essays/">Back to essays</a>
    </div>
  </div>
</section>

</main>

  <footer>
    <div class="container">
      <p class="footer-text">© 2026 Deeptanshu Jha.</p>
    </div>
  </footer>

  <script src="/js/site.js"></script>
</body>
</html>
