<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Claude Code Rate Limits: Diagnosing my token usage · Deeptanshu Jha</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/css/site.css">
</head>
<body class="page">
  
  <nav>
    <div class="nav-container">
      <a href="/" class="nav-logo">Deeptanshu Jha</a>
      <div class="nav-links">
        <a href="/#essays" class="nav-link">Essays</a>
        <a href="/#projects" class="nav-link">Projects</a>
        <a href="/essays/" class="nav-link">All posts</a>

        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </svg>
          <svg id="moonIcon" style="display:none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

<main class="main">
  
<style>
  .prose img {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    display: block;
  }
</style>
<section style="padding-top: 6rem;">
  <div class="container" style="max-width: 850px;">
    <div class="essay-meta" style="margin-bottom: 0.8rem;">
      Claude Code · Jan 26, 2026
    </div>
    <h1 class="section-title" style="margin-bottom: 1rem;">Claude Code Rate Limits: Diagnosing my token usage</h1>

    <div class="essay-card visible" style="padding: 2rem;">
      <div class="prose">
        <p>Every few hours using Claude Code, I hit a wall. Mid-flow, locked out by a rate limit. After burning through roughly 44 million tokens and a $67.58 bill, I finally had Claude dig into logs and diagnose my usage.</p>
<p>Turns out I wasn&rsquo;t paying for intelligence. I was paying a &ldquo;memory tax&rdquo; for conversations that never ended.</p>
<h2 id="the-68-breakdown">The $68 breakdown</h2>
<p>In one gigantic session over several days, I made nearly 500 requests. Here&rsquo;s where the money actually went:</p>
<h3 id="the-68-breakdown-1">The $68 breakdown</h3>
<ul>
<li><strong>Building context (Cache Write):</strong> $39.95 (67.1%)</li>
<li><strong>Re-reading history (Cache Read):</strong> $17.30 (29.1%)</li>
<li><strong>Actual AI answers (Output):</strong> <strong>$2.14 (3.2%)</strong></li>
<li><strong>New prompts:</strong> $0.15 (0.3%)</li>
</ul>
<p><strong>Only ~3% of my bill went toward actual answers.</strong></p>
<p>The rest? Reminding the AI what we had already discussed.</p>
<h2 id="the-077-yes">The $0.77 &ldquo;yes&rdquo;</h2>
<p>The most expensive word I typed was &ldquo;yes.&rdquo;</p>
<p>One marathon session hit 361 requests without ever clearing the history. By the end, the context had ballooned to over 153,000 tokens. Because Claude Code re-processes the entire conversation history with every new message, a simple confirmation cost me $0.77. At the start of that same session, it would have cost less than a dime.</p>
<p>I keep coming back to this. Seventy-seven cents to say yes.</p>
<p><img alt="Snowball Chart Claude" loading="lazy" src="/images/posts/claude-code-rate-limits/context-snowball-chart.png"></p>
<h2 id="the-5-hour-rolling-window">The 5-hour rolling window</h2>
<p>I used to think limits reset daily. They don&rsquo;t.</p>
<p>Claude subscriptions operate on a 5-hour rolling window starting from your first use. Exhaust your budget in a heavy two-hour burst of context-heavy work? You&rsquo;re stuck until that window slides forward.</p>
<p>This explains why I&rsquo;d be flying through tasks at 2pm, then completely locked out by 4pm despite having &ldquo;plenty of daily budget left.&rdquo; There is no daily budget. Just a rolling window that doesn&rsquo;t care about your flow state.</p>
<h2 id="why-the-bill-was-so-high">Why the bill was so high</h2>
<p>Three habits caused the bloat:</p>
<p><strong>Marathon sessions:</strong> I kept sessions active for days. Every tool call, shell output, and file read became permanent debt that I paid for in every subsequent message.</p>
<p><strong>Task mixing:</strong> One session for everything—coding, stock analysis, analyzing my calendar, replying to emails, coding up a breastfeeding tracker, etc. Claude doesn&rsquo;t need to know my tax-loss harvesting strategy to fix a separate UI bug, but I paid for it to remember both.</p>
<p><strong>Model mismatch:</strong> I used Opus 4.5 for every single command. Turns out 66% of my queries—simple things like <code>ls</code>, <code>cd</code>, or moving files—could have been handled by Haiku for 80% less.</p>
<h2 id="my-new-workflow">My new workflow</h2>
<p>I&rsquo;m changing three things:</p>
<p><strong>Clear context often.</strong> I now use <code>/clear</code> or start fresh sessions every 50 requests. Feels wasteful at first, like throwing away perfectly good context. But that context isn&rsquo;t free—it&rsquo;s debt.</p>
<p><strong>Match the model to the task.</strong> Haiku for navigation and confirmations. Opus only for architecture and deep logic.</p>
<p><strong>Local routing.</strong> I&rsquo;m building a tool to route basic shell commands to a local model (<code>llama3.2:1b</code>). Handles the boring stuff for $0.00.</p>
<p>AI is only expensive if you force it to have a perfect, infinite memory for things that don&rsquo;t matter.</p>
<hr>
<p><em>If this saved you from burning money on context debt, pass it on.</em></p>

      </div>
    </div>

    <div style="margin-top: 1.5rem;">
      <a class="essay-link" href="/essays/">Back to essays</a>
    </div>
  </div>
</section>

</main>

  <footer>
    <div class="container">
      <p class="footer-text">© 2026 Deeptanshu Jha.</p>
    </div>
  </footer>

  <script src="/js/site.js"></script>
</body>
</html>
